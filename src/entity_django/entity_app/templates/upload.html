<!DOCTYPE html>
{% load static %}
<link rel="stylesheet" href="{% static 'styles.css' %}">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href='https://fonts.googleapis.com/css?family=KoHo' rel='stylesheet'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>

    <title>Sensitivity Detection Tool</title>
</head>
<body>
    <div class="topnav">
        <a class="title">Sensitivity Detection Tool</a>
        <a href="/home/">Home</a>
        <a href="/view_document/">Documents</a>
        <a href="/view_entity/">Entities</a>
        <a href="">Analytics</a>
        <a href="/upload_document/" class="upload-active" style="float: right;">Upload Files<i class="material-icons">upload</i></a>
    </div>

    <div class="main">
        <h1>Upload Files</h1>
        <div class="wrapper" style="width: 60%; float: left; padding: 20px 0px 20px 0px; height: 70%;">
            <div style="margin: 0px 30px 0px 30px; ">
            <form enctype="multipart/form-data" action="add_document/" method="post" >{% csrf_token %}
                <div style="width: 100%; height: 100%;">
                    <label class="filelabel" for="fileinput"><i style="font-size: 120px;" class="material-icons">upload</i>
                        <br>
                        Browse Files
                        </label>
                    <br>
                    <input id="fileinput" type="file" name="file" style="display: none;" onchange="docUpdate()" multiple>
                </div>

            <input class="document-button-icon" style="width:20%; font-size: 16px; border-radius: 7.5px; padding-bottom: 5px; float: right;" type="submit">
            </form>
            </div>
        </div>

    <div class="wrapper" style="width: 25%; float: right; padding: 20px 0px 20px 0px; position: relative; right: 0px; height: 70%; overflow:hidden;">
        <h2 style="margin-left: 40px; display: inline;">Selected Documents</h2>
        <div style="max-height: 95%; overflow: auto; padding-top: 10px; margin-left: 30px;">
        <ul style="list-style-type: none; margin: 0; padding: 0; font-size: large; width: 90%" id="docList">
        </ul>
        </div>
        <script>
        function docUpdate() {
            var files = document.getElementById("fileinput").files;
            var root=document.getElementById("docList");

            while( root.firstChild ){
                root.removeChild( root.firstChild );
            }

            for (var i=0; i<files.length; i++) {
                var file = files[i].name.replace(/^.*\\/,'');
                const node = document.createElement("li");
                const textnode = document.createTextNode(file);
                node.appendChild(textnode);
                root.appendChild(node);
            }



        }

        </script>
    </div>


    </div>


</body>
</html>